execute if block ~ ~ ~ #all_signs{components:{"minecraft:custom_data":{}}} run return run tellraw @s {"text":"This sign already is a shop sign.","color":"red"}
execute if block ~ ~1 ~ #all_signs{components:{"minecraft:custom_data":{}}} run return run tellraw @s {"text":"This sign already is a shop sign.","color":"red"}

$execute if block ~ ~ ~ #all_signs run return run data merge block ~ ~ ~ {front_text:{messages:[[{"text":"","click_event":{"action":"run_command","command":"/function shop-system:shop_sign/click_sign with block ~ ~ ~ components.minecraft:custom_data"}}],["Price: ",{"text":"$$(signValue)","color":"#3dbaff"}],"",""]},back_text:{messages:[[{"text":"","click_event":{"action":"run_command","command":"/function shop-system:shop_sign/click_sign with block ~ ~ ~ components.minecraft:custom_data"}}],["Price: ",{"text":"$$(signValue)","color":"#3dbaff"}],"",""]},components:{"minecraft:custom_data":{value:"$(signValue)",stackSize:"$(stackSize)",playerUUID0:"$(playerUUID0)",playerUUID1:"$(playerUUID1)",playerUUID2:"$(playerUUID2)",playerUUID3:"$(playerUUID3)"}}}

$execute if block ~ ~1 ~ #all_signs run return run data merge block ~ ~1 ~ {front_text:{messages:[[{"text":"","click_event":{"action":"run_command","command":"/function shop-system:shop_sign/click_sign with block ~ ~ ~ components.minecraft:custom_data"}}],["Price: ",{"text":"$$(signValue)","color":"#3dbaff"}],"",""]},back_text:{messages:[[{"text":"","click_event":{"action":"run_command","command":"/function shop-system:shop_sign/click_sign with block ~ ~ ~ components.minecraft:custom_data"}}],["Price: ",{"text":"$$(signValue)","color":"#3dbaff"}],"",""]},components:{"minecraft:custom_data":{value:"$(signValue)",stackSize:"$(stackSize)",playerUUID0:"$(playerUUID0)",playerUUID1:"$(playerUUID1)",playerUUID2:"$(playerUUID2)",playerUUID3:"$(playerUUID3)"}}}

tellraw @s {"text":"Can't find sign in player's vicinity.","color":"red"}